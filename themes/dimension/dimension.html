<!DOCTYPE html>
<html lang="{{PHP_LANG}}">
<!--//<html lang="{{LANG}}">//-->
<head>
    <title>{{PHP_TITLE}}</title>
    <!--// <title>Last.fm Youtube Radio</title>//-->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>


    <script src="js/lib/requirejs/require.js" type="text/javascript"></script>
    <script src="js/main.js" type="text/javascript"></script>
    
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.3.1/css/all.css"
          integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <link rel="stylesheet" href="themes/dimension/assets/css/main.css"/>
    <noscript>
        <link rel="stylesheet" href="themes/dimension/assets/css/noscript.css"/>
    </noscript>

</head>
<body class="is-preload">

<!-- Wrapper -->
<div id="wrapper">
    <!-- Header -->
    <header id="header">
        <div class="logo">
            <span style="vertical-align: middle" v-bind:class="PAGE_LOADER"></span>
        </div>

        <div class="content">
            <div class="inner">
                <h1>{{PAGE_HEADER}}</h1>
                <p>{{PAGE_WELCOME}}</p>
            </div>
        </div>
        
        <nav>
            <ul>
                <li v-for="MENU in MENUS">
                    <a v-bind:href="MENU.URL" @click.prevent="loadMenu(MENU);">{{MENU.NAME}}</a>
                </li>
            </ul>
        </nav>
    </header>

    <!-- Main -->
    <div id="main">

        <!-- Player -->
        <article id="page-ytplayer">

            <h2 class="major">
                <a href="#page-playlist" v-bind:href="PLAYLIST_ID" @click.prevent="loadPlaylist($(this).attr('href'))">{{PLAYLIST_NAME}}</a>
            </h2>

            <!-- youtube embed: html5 method -->
            <div id="player"></div>

            <div class="ytplayer-control">
                <ul class="icons" style="text-align: center; margin: 10px;">
                    <li>
                        <a class="icon fa-play fa-2x"
                           style="cursor: pointer"
                           title="Play"
                           @click="playTrack(TRACK);">
                            <span class="label">Play</span>
                        </a>
                    </li>
                    <li>

                        <a class="icon fa-backward fa-2x"
                           style="cursor: pointer"
                           title="Play"
                           @click="playTrack(TRACK);">
                            <span class="label">Previus Track</span>
                        </a>
                    </li>
                    <li>
                        <a class="icon fa-forward fa-2x"
                           style="cursor: pointer"
                           title="Play"
                           @click="playTrack(TRACK);">
                            <span class="label">Next Track</span>
                        </a>
                    </li>
                    <li>
                        <a class="icon fas fa-headphones fa-2x"
                           style="cursor: pointer"
                           title="Play"
                           @click="playTrack(TRACK);">
                            <span class="label">add to Playlist</span>
                        </a>
                    </li>
                    <li>
                        <a class="icon fa fa-search fa-2x"
                           style="cursor: pointer"
                           title="Play"
                           @click="playTrack(TRACK);">
                            <span class="label">add to Playlist</span>
                        </a>
                    </li>
                </ul>
            </div>

        </article>

        <!-- Playlist -->
        <article id="page-playlist">

            <div class="playlist-header-nav">
                <template v-for="MENU in MENUS">                    
                    <div class="btn-playlist-header-nav">                        
                        <a v-bind:href="MENU.URL" @click.prevent="loadMenu(MENU)">
                            <span v-bind:class="MENU.LOGO"></span>
                            <span class="btn-text">{{MENU.TEXT}}</span>
                        </a>                    
                    </div>                
                </template>
            </div>

            <div class="playlist-header-title" style="margin-top: 2rem;">
                <h2 class="major" style="vertical-align: middle;">
                    <span v-bind:class="LOGO"></span>
                    <span>{{TEXT}}</span>
                </h2>
            </div>


            <section class="playlist-nav">
                <form @submit.prevent="loadPage($('#playlist_lastfmuser').val(), $('#playlist_page').val())">
                    <div class="fields">

                        <div class="field third" v-if="PLAYLIST === 'default'">
                            <label for="playlist_lastfmuser">
                                <a href="//last.fm" target="_blank">Last.fm</a> {{LASTFM_USER_NAME_LABEL}}
                            </label>
                            <input type="text" name="playlist_page" id="playlist_lastfmuser"
                                   v-bind:value="LASTFM_USER_NAME" />
                        </div>
                        <div class="field third" v-if="PLAYLIST === 'search'">
                            <label for="playlist_lastfmuser">Youtube Video</label>
                            <input type="text" name="playlist_page" id="playlist_videourl"
                                   v-bind:value="LASTFM_USER_NAME" />
                        </div>
                        <div class="field third">
                            <label for="playlist_page">
                                {{CUR_PAGE_LABEL}} {{CUR_PAGE}} {{PAGES_OF_LABEL}} {{MAX_PAGES}}
                            </label>
                            <input type="number" name="playlist_page" id="playlist_page" v-bind:value="CUR_PAGE" />
                        </div>
                        <div class="field third" align="center" style="vertical-align: center">
                            <label>&nbsp;</label>
                            <a
                                    @click="loadPrevPage($('#playlist_lastfmuser').val(), $('#playlist_page').val(), MAX_PAGES)"
                                    class="icon fa-step-backward"
                                    title="Previous Page"
                                    style="cursor: pointer; font-size: 24pt; float: left;">&nbsp;</a>

                            <input type="submit" name="playlist_load" id="playlist_load" v-bind:value="PLAYLIST_LOAD"/>

                            <a
                                    @click="loadNextPage($('#playlist_lastfmuser').val(), $('#playlist_page').val(), MAX_PAGES)"
                                    class="icon fa-step-forward"
                                    title="Next Page"
                                    style="cursor: pointer; font-size: 24pt; float: right;">&nbsp;</a>
                        </div>
                    </div>
                </form>
            </section>

            <section class="playlist-content">
                <div class="table-wrapper">
                    <table>
                        <thead>
                        <tr>
                            <th>{{TRACK_NR}}</th>
                            <th>{{TRACK_ARTIST}}</th>
                            <th>{{TRACK_TITLE}}</th>
                        </tr>
                        </thead>
                        <tbody>
                        <template v-for="TRACK in TRACKS">
                            <tr @mouseover="showPlay(TRACK, true);"
                                @mouseout="showPlay(TRACK, false);">
                                <td class="TRACK_NR" @click="togglePlay(TRACK);" style="cursor: pointer">
                                    <span v-if="TRACK.PLAYSTATE === 'stop'" class="fa fa-play"></span>
                                    <span v-else-if="TRACK.PLAYSTATE === 'pause'" class="fa fa-pause"></span>
                                    <span v-else-if="TRACK.PLAYSTATE === 'play'"
                                          class="fa fa-play faa-flash animated"></span>
                                    <span v-else-if="TRACK.PLAYSTATE === 'load'"
                                          class="fa fa-spinner faa-spin animated"></span>
                                    <span v-else="v-else">{{TRACK.NR}}</span>
                                </td>
                                <td class="TRACK_ARTIST"
                                    @click="togglePlayControl(TRACK);"
                                    style="cursor: pointer">
                                    <i v-if="TRACK.PLAYLIST !== 'search' && TRACK.VIDEO_ID != ''"
                                       v-bind:title="'Video: ' + TRACK.VIDEO_ID">* {{TRACK.ARTIST}}</i>
                                    <span v-else="v-else">{{TRACK.ARTIST}}</span>
                                </td>
                                <td class="TRACK_TITLE"
                                    @click="togglePlayControl(TRACK);"
                                    style="cursor: pointer">
                                    <i v-if="TRACK.PLAYLIST !== 'search' && TRACK.VIDEO_ID != ''"
                                       v-bind:title="'Video: ' + TRACK.VIDEO_ID">{{TRACK.TITLE}}</i>
                                    <span v-else="v-else">{{TRACK.TITLE}}</span>
                                </td>
                            </tr>

                            <tr key="true" v-if="TRACK.PLAY_CONTROL" ref="TRACK_CONTROL_ROW">
                                <td colspan="3" style="vertical-align: middle; border: 0px">

                                    <div class="btn-playlist-nav">
                                        <a @click="playTrack(TRACK);">
                                            <span class="fa fa-play"></span>
                                            <span class="btn-text">Play</span>
                                        </a>
                                    </div>
                                    <div class="btn-playlist-nav" v-if="TRACK.PLAYLIST === 'search'">
                                        <a @click="saveAlternative(TRACK, $('#playlist_videourl').val());">
                                            <span class="fa fa-plus"></span>
                                            <span class="btn-text">set as Video</span>
                                        </a>
                                    </div>
                                    <div class="btn-playlist-nav" v-else-if="TRACK.PLAYLIST !== 'userlist'">
                                        <a @click="addToUserList($event, TRACK);">
                                            <span class="fas fa-user-plus"></span>
                                            <span class="btn-text">Add to Playlist</span>
                                        </a>
                                    </div>
                                    <div class="btn-playlist-nav" v-else="v-else">
                                        <a @click="removeFromUserList(TRACKS, TRACK);">
                                            <span class="fas fa-user-times"></span>
                                            <span class="btn-text">Remove</span>
                                        </a>
                                    </div>
                                    <div class="btn-playlist-nav">
                                        <a v-if="TRACK.PLAYLIST !== 'search' && TRACK.VIDEO_ID === ''"
                                           @click="searchVideos($event, TRACK);">
                                            <span class="fa fa-search"></span>
                                            <span class="btn-text">search</span>
                                        </a>
                                        <a @click="deleteAlternative($event, TRACK, TRACKS);"
                                           v-else="v-else">
                                            <span class="fa fa-minus"></span>
                                            <span class="btn-text">delete search</span>
                                        </a>
                                    </div>

                                    <div style="float: right">
                                        <span v-if="typeof TRACK.PLAYCOUNT !== 'undefined'">Plays: <b>{{TRACK.PLAYCOUNT}} | </b></span>
                                        {{TRACK.LASTPLAY}}
                                    </div>
                                </td>
                            </tr>
                        </template>
                        </tbody>
                    </table>
                </div>
            </section>
        </article>
    </div>

    <!-- Footer -->
    <footer id="footer">
        <p class="copyright">
            <span style="vertical-align: top">
                &copy;2018 <a href="//www.rimkus.it" target="_blank">Jonny Rimkus</a>
                &lt;<a href="mailto:jonny@rimkus.it">jonny@rimkus.it</a>&gt;
            </span>
            &nbsp;&nbsp;
            <a href="//www.wtfpl.net/" target="_blank" style="border: 0px; text-decoration: none;">
                <img src="images/wtfpl-badge-4.png" width="80" height="15" alt="WTFPL"/>
            </a>


        </p>
    </footer>

</div>

<!-- BG -->
<div id="bg"></div>


</body>
</html>
